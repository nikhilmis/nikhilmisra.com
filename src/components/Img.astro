---
import { Picture } from '@astrojs/image/components';

export interface Props {
    src: ImageMetadata | Promise<any>;
    alt: string;
    className?: string;
    id?: string;
    lazy?: boolean;
}

const { src, alt, className, id = null, lazy = true } = Astro.props;
const modifiedClassName = `${className ? className + ' ' : ''}picture`;
---

<Picture
    id={id}
    class={modifiedClassName}
    src={src}
    alt={alt}
    widths={[720, 1080, 1920]}
    sizes="(min-width: 1) 720px, (min-width: 1080px) 1080px, (min-width: 1920px) 1920px, (min-width: 3840px) 3840px 100vw"
    loading={lazy ? 'lazy' : 'eager'}
/>

<style>
    .picture :global(img) {
        width: 100%;
        height: auto;
    }
</style>
